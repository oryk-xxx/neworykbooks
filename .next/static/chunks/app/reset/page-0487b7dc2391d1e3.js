(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{8254:function(e,r,t){Promise.resolve().then(t.bind(t,4997))},7648:function(e,r,t){"use strict";t.d(r,{default:function(){return a.a}});var s=t(2972),a=t.n(s)},9376:function(e,r,t){"use strict";var s=t(5475);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},4997:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var s=t(7437),a=t(2265),n=t(9376),c=t(7648);function i(){let e=(0,n.useRouter)(),[r,t]=(0,a.useState)({password:"",confirmPassword:""}),[i,o]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),p=async t=>{t.preventDefault(),o(""),d(""),m(!0);try{let t=await fetch("/api/auth/reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),s={};try{s=await t.json()}catch(e){}if(!t.ok)throw Error((null==s?void 0:s.error)||"Erro ao alterar a senha");d("Senha alterada com sucesso!"),setTimeout(()=>e.push("/login"),2e3)}catch(e){o(e.message)}finally{m(!1)}},h=e=>{t(r=>({...r,[e.target.name]:e.target.value}))};return(0,s.jsx)("div",{className:"min-h-[calc(100vh-5rem)] flex items-center justify-center p-8",children:(0,s.jsxs)("div",{className:"w-full max-w-md oryk-surface p-10 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"mb-10 text-center",children:[(0,s.jsx)("h1",{className:"text-header mb-2 text-primary",children:"Security.Reset"}),(0,s.jsx)("p",{className:"font-mono text-[9px] tracking-oryk text-text-meta uppercase",children:"Module: Security.Protocol.RS"})]}),l&&(0,s.jsxs)("div",{className:"bg-primary/10 border border-primary/20 text-primary text-[10px] uppercase tracking-oryk p-4 rounded mb-8 text-center ring-1 ring-primary/20",children:[l," Redirecting..."]}),i&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 text-[10px] uppercase tracking-oryk p-4 rounded mb-8 text-center",children:i}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-label",htmlFor:"password",children:"New.Security.Hash"}),(0,s.jsx)("input",{id:"password",name:"password",type:"password",required:!0,minLength:8,placeholder:"••••••••",className:"oryk-input",value:r.password,onChange:h})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-label",htmlFor:"confirmPassword",children:"Confirm.Hash"}),(0,s.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,minLength:8,placeholder:"••••••••",className:"oryk-input",value:r.confirmPassword,onChange:h})]}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsx)("button",{type:"submit",disabled:u,className:"oryk-button-accent w-full py-4 text-[10px] uppercase tracking-[0.2em]",children:u?"PROCESSING...":"UPDATE HASH →"})})]}),(0,s.jsx)("div",{className:"mt-10 pt-8 border-t border-white/[0.06] text-center",children:(0,s.jsxs)("p",{className:"text-[9px] tracking-oryk text-text-meta uppercase",children:["Abort Protocol?"," ",(0,s.jsx)(c.default,{href:"/login",className:"text-white hover:text-primary transition-colors",children:"Return.Login"})]})})]})})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=8254)}),_N_E=e.O()}]);