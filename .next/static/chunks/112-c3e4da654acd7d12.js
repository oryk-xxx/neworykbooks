(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{9112:function(e,a,t){Promise.resolve().then(t.bind(t,9363))},9363:function(e,a,t){"use strict";t.d(a,{BlockEditor:function(){return s}});var r=t(7437),l=t(795),o=t(3662),d=t(9892),i=t(2265),n=t(9360);function s(e){let{initialValue:a,onChange:t}=e,[d,s]=(0,i.useState)(()=>(null==a?void 0:a.blocks)&&a.blocks.length>0?a.blocks:[{id:(0,n.Z)(),type:"heading",data:{level:1,text:"T\xedtulo da p\xe1gina"}},{id:(0,n.Z)(),type:"paragraph",data:{text:"Comece a estruturar o conte\xfado desta p\xe1gina em blocos claros e objetivos."}}]);function u(e){s(e),null==t||t({blocks:e})}function b(e){let a={id:(0,n.Z)(),type:e};switch(e){case"heading":a.data={level:2,text:"Novo t\xedtulo"};break;case"paragraph":a.data={text:"Novo par\xe1grafo."};break;case"image":a.data={url:"",caption:""};break;case"link":a.data={label:"Abrir recurso",href:"https://"};break;case"quote":a.data={text:"Uma frase que merece ser isolada.",attribution:""};break;case"divider":a.data={};break;case"list":a.data={style:"bullet",items:["Primeiro ponto"]};break;case"callout":a.data={tone:"tip",text:"Uma observa\xe7\xe3o importante para esta parte."};break;case"embed":a.data={url:"https://",title:""};break;case"wrong_right":a.data={title:"Exemplos de comunica\xe7\xe3o",pairs:[{wrong:"mb, faz isso a\xed",right:"Meu bem, consegue me ajudar com isso?",category:"postura",level:"iniciante",explanation:"A forma certa traz contexto, respeito e clareza, sem perder proximidade."}]}}u([...d,a])}function x(e,a,t){u(d.map(r=>r.id===e?{...r,...t?{type:t}:null,data:{...r.data,...a}}:r))}function g(e){u(d.filter(a=>a.id!==e))}return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs",children:[(0,r.jsx)(p,{label:"T\xedtulo",onClick:()=>b("heading")}),(0,r.jsx)(p,{label:"Par\xe1grafo",onClick:()=>b("paragraph")}),(0,r.jsx)(p,{label:"Imagem",onClick:()=>b("image")}),(0,r.jsx)(p,{label:"Link / CTA",onClick:()=>b("link")}),(0,r.jsx)(p,{label:"Cita\xe7\xe3o",onClick:()=>b("quote")}),(0,r.jsx)(p,{label:"Divisor",onClick:()=>b("divider")}),(0,r.jsx)(p,{label:"Lista",onClick:()=>b("list")}),(0,r.jsx)(p,{label:"Callout",onClick:()=>b("callout")}),(0,r.jsx)(p,{label:"Embed",onClick:()=>b("embed")}),(0,r.jsx)(p,{label:"Errado → Certo",onClick:()=>b("wrong_right"),accent:!0})]}),(0,r.jsx)(l.LB,{collisionDetection:l.pE,onDragEnd:function(e){let{active:a,over:t}=e;if(!t||a.id===t.id)return;let r=d.findIndex(e=>e.id===a.id),l=d.findIndex(e=>e.id===t.id);-1!==r&&-1!==l&&u((0,o.Rp)(d,r,l))},children:(0,r.jsx)(o.Fo,{items:d.map(e=>e.id),strategy:o.qw,children:(0,r.jsx)("div",{className:"space-y-3",children:d.map(e=>(0,r.jsx)(c,{block:e,onChange:x,onRemove:g},e.id))})})}),(0,r.jsx)("pre",{className:"mt-4 max-h-64 overflow-auto rounded-xl bg-black/60 p-3 text-[10px] text-zinc-400",children:JSON.stringify({blocks:d},null,2)})]})}function c(e){let{block:a,onChange:t,onRemove:l}=e,{attributes:i,listeners:n,setNodeRef:s,transform:c,transition:b}=(0,o.nB)({id:a.id}),p={transform:d.ux.Transform.toString(c),transition:b};return(0,r.jsxs)("div",{ref:s,style:p,className:"group flex gap-3 rounded-xl border border-borderSubtle/80 bg-black/40 p-3",children:[(0,r.jsx)("button",{type:"button",className:"mt-3 h-5 w-5 shrink-0 cursor-grab rounded-full border border-borderSubtle/70 text-[10px] text-zinc-500 opacity-70 group-hover:opacity-100",...i,...n,children:"::"}),(0,r.jsx)("div",{className:"flex-1 space-y-2",children:(0,r.jsx)(u,{block:a,onChange:t})}),(0,r.jsx)("button",{type:"button",onClick:()=>l(a.id),className:"h-6 w-6 self-start rounded-full border border-red-900/60 text-[10px] text-red-300 opacity-0 transition group-hover:opacity-100",children:"\xd7"})]})}function u(e){let{block:a,onChange:t}=e;return"heading"===a.type?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("select",{className:"h-8 rounded border border-borderSubtle/70 bg-black/60 px-2 text-xs",value:a.data.level,onChange:e=>t(a.id,{level:Number(e.target.value)}),children:[(0,r.jsx)("option",{value:1,children:"H1"}),(0,r.jsx)("option",{value:2,children:"H2"}),(0,r.jsx)("option",{value:3,children:"H3"})]}),(0,r.jsx)("input",{className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1 text-sm",value:a.data.text,onChange:e=>t(a.id,{text:e.target.value})})]}):"paragraph"===a.type?(0,r.jsx)("textarea",{className:"min-h-[80px] w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1 text-sm",value:a.data.text,onChange:e=>t(a.id,{text:e.target.value})}):"image"===a.type?(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsx)("input",{placeholder:"URL da imagem",className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:a.data.url,onChange:e=>t(a.id,{url:e.target.value})}),(0,r.jsx)("input",{placeholder:"Legenda (opcional)",className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:a.data.caption||"",onChange:e=>t(a.id,{caption:e.target.value})})]}):"link"===a.type?(0,r.jsxs)("div",{className:"grid grid-cols-[2fr_3fr] gap-2 text-xs",children:[(0,r.jsx)("input",{placeholder:"Texto do CTA",className:"rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:a.data.label,onChange:e=>t(a.id,{label:e.target.value})}),(0,r.jsx)("input",{placeholder:"URL",className:"rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:a.data.href,onChange:e=>t(a.id,{href:e.target.value})})]}):"quote"===a.type?(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsx)("textarea",{placeholder:"Texto da cita\xe7\xe3o",className:"min-h-[80px] w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:a.data.text,onChange:e=>t(a.id,{text:e.target.value})}),(0,r.jsx)("input",{placeholder:"Autor (opcional)",className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:a.data.attribution||"",onChange:e=>t(a.id,{attribution:e.target.value})})]}):"divider"===a.type?(0,r.jsx)("div",{className:"py-2 text-[10px] uppercase tracking-[0.2em] text-zinc-500",children:"Divisor"}):"list"===a.type?(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsxs)("select",{className:"h-8 rounded border border-borderSubtle/70 bg-black/60 px-2",value:a.data.style,onChange:e=>t(a.id,{style:e.target.value}),children:[(0,r.jsx)("option",{value:"bullet",children:"Lista com bullets"}),(0,r.jsx)("option",{value:"numbered",children:"Lista numerada"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[a.data.items.map((e,l)=>(0,r.jsx)("input",{className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e,onChange:e=>{let r=[...a.data.items];r[l]=e.target.value,t(a.id,{items:r})}},l)),(0,r.jsx)("button",{type:"button",className:"text-[11px] text-accent",onClick:()=>t(a.id,{items:[...a.data.items,"Novo item"]}),children:"+ Adicionar item"})]})]}):"callout"===a.type?(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsxs)("select",{className:"h-8 rounded border border-borderSubtle/70 bg-black/60 px-2",value:a.data.tone,onChange:e=>t(a.id,{tone:e.target.value}),children:[(0,r.jsx)("option",{value:"tip",children:"Dica"}),(0,r.jsx)("option",{value:"info",children:"Info"}),(0,r.jsx)("option",{value:"alert",children:"Alerta"})]}),(0,r.jsx)("textarea",{className:"min-h-[60px] w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:a.data.text,onChange:e=>t(a.id,{text:e.target.value})})]}):"embed"===a.type?(0,r.jsxs)("div",{className:"grid grid-cols-[2fr_3fr] gap-2 text-xs",children:[(0,r.jsx)("input",{placeholder:"T\xedtulo (opcional)",className:"rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:a.data.title||"",onChange:e=>t(a.id,{title:e.target.value})}),(0,r.jsx)("input",{placeholder:"URL do embed",className:"rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:a.data.url,onChange:e=>t(a.id,{url:e.target.value})})]}):"wrong_right"===a.type?(0,r.jsx)(b,{block:a,onChange:e=>t(a.id,e)}):null}function b(e){let{block:a,onChange:t}=e;return(0,r.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[10px] uppercase tracking-[0.2em] text-zinc-500",children:"Bloco especial \xb7 Errado → Certo"}),(0,r.jsx)("input",{placeholder:"T\xedtulo do bloco (opcional)",className:"mt-1 w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:a.data.title||"",onChange:e=>t({title:e.target.value})})]}),(0,r.jsx)("button",{type:"button",className:"rounded-full border border-accent/60 px-3 py-1 text-[11px] text-accent",onClick:()=>t({pairs:[...a.data.pairs,{wrong:"",right:"",category:"gramatica",level:"iniciante",explanation:""}]}),children:"+ Par"})]}),(0,r.jsx)("div",{className:"space-y-3",children:a.data.pairs.map((e,l)=>(0,r.jsxs)("div",{className:"space-y-2 rounded-xl border border-borderSubtle/80 bg-zinc-950/60 p-3",children:[(0,r.jsxs)("div",{className:"grid gap-2 md:grid-cols-2",children:[(0,r.jsx)("textarea",{placeholder:"Texto errado",className:"min-h-[60px] w-full rounded border border-red-900/60 bg-red-950/40 px-2 py-1 text-xs",value:e.wrong,onChange:r=>{let o=[...a.data.pairs];o[l]={...e,wrong:r.target.value},t({pairs:o})}}),(0,r.jsx)("textarea",{placeholder:"Texto certo",className:"min-h-[60px] w-full rounded border border-emerald-900/60 bg-emerald-950/40 px-2 py-1 text-xs",value:e.right,onChange:r=>{let o=[...a.data.pairs];o[l]={...e,right:r.target.value},t({pairs:o})}})]}),(0,r.jsxs)("div",{className:"grid gap-2 md:grid-cols-[2fr_2fr_3fr]",children:[(0,r.jsxs)("select",{className:"h-8 rounded border border-borderSubtle/70 bg-black/60 px-2",value:e.category,onChange:r=>{let o=[...a.data.pairs];o[l]={...e,category:r.target.value},t({pairs:o})},children:[(0,r.jsx)("option",{value:"gramatica",children:"Gram\xe1tica"}),(0,r.jsx)("option",{value:"postura",children:"Postura"}),(0,r.jsx)("option",{value:"mensagem",children:"Mensagem"}),(0,r.jsx)("option",{value:"atitude",children:"Atitude"})]}),(0,r.jsxs)("select",{className:"h-8 rounded border border-borderSubtle/70 bg-black/60 px-2",value:e.level,onChange:r=>{let o=[...a.data.pairs];o[l]={...e,level:r.target.value},t({pairs:o})},children:[(0,r.jsx)("option",{value:"iniciante",children:"Iniciante"}),(0,r.jsx)("option",{value:"intermediario",children:"Intermedi\xe1rio"}),(0,r.jsx)("option",{value:"avancado",children:"Avan\xe7ado"})]}),(0,r.jsx)("input",{placeholder:"Explica\xe7\xe3o (opcional)",className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.explanation||"",onChange:r=>{let o=[...a.data.pairs];o[l]={...e,explanation:r.target.value},t({pairs:o})}})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{type:"button",className:"text-[11px] text-red-400",onClick:()=>{t({pairs:a.data.pairs.filter((e,a)=>a!==l)})},children:"Remover par"})})]},l))})]})}function p(e){return(0,r.jsx)("button",{type:"button",onClick:e.onClick,className:"rounded-full border px-3 py-1 ".concat(e.accent?"border-accent/80 bg-accent/10 text-[11px] text-accent":"border-borderSubtle/70 bg-black/40 text-[11px] text-zinc-200"),children:e.label})}}}]);