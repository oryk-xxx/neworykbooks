(()=>{var e={};e.id=784,e.ids=[784],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},6952:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>l}),t(6026),t(7206),t(5607),t(5866),t(2029);var s=t(3191),o=t(8716),a=t(7922),n=t.n(a),i=t(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l=["",{children:["(protected)",{children:["reader",{children:["books",{children:["[bookId]",{children:["page",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6026)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\books\\[bookId]\\page\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7206)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\books\\[bookId]\\page\\layout.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5607)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\books\\[bookId]\\page\\page.tsx"],u="/(protected)/reader/books/[bookId]/page/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(protected)/reader/books/[bookId]/page/page",pathname:"/reader/books/[bookId]/page",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},9852:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},6397:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,9404,23))},5203:()=>{},5303:()=>{},7206:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(9510);function o(e){return s.jsx("div",{className:"space-y-4",children:e.children})}},6026:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(9510),o=t(7371),a=t(748);async function n(e){let r=(0,a.JJ)(),{data:{session:t}}=await r.auth.getSession();if(!t)return null;let{data:n}=await r.from("books").select("id, title, status").eq("id",e.params.bookId).maybeSingle();if(!n)return null;let{data:i}=await r.from("pages").select("id, slug, order_index").eq("book_id",n.id).order("order_index",{ascending:!0}),{data:d}=await r.from("progress").select("page_id, unlocked, score").eq("user_id",t.user.id).eq("book_id",n.id),l=new Set;for(let e of d||[])e.unlocked&&l.add(e.page_id);return(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-lg font-semibold tracking-tight",children:n.title}),s.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:i?.map(e=>{let r=1===e.order_index||l.has(e.id);return s.jsx(o.default,{href:`/reader/books/${n.id}/page/${e.slug}`,className:`rounded-xl border bg-black/60 p-3 text-xs ${r?"border-borderSubtle/80 text-zinc-200":"border-zinc-800 text-zinc-500"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["P\xe1gina ",e.order_index]}),r?s.jsx("span",{className:"rounded-full border border-emerald-700/60 px-2 py-0.5 text-emerald-300",children:"Liberada"}):s.jsx("span",{className:"rounded-full border border-zinc-700 px-2 py-0.5",children:"Bloqueada"})]})},e.id)})})]})}},5607:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(9510);function o(e){return s.jsx("div",{className:"mx-auto flex min-h-[calc(100vh-4rem)] max-w-5xl flex-col px-4 py-6 md:px-6",children:e.children})}},2029:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a,metadata:()=>o});var s=t(9510);t(5023);let o={title:"\xd8RYK Books",description:"Plataforma premium de leitura com foco em escrita refinada"};function a(e){return s.jsx("html",{lang:"pt-BR",className:"dark",children:(0,s.jsxs)("body",{className:"min-h-screen bg-background text-foreground",children:[s.jsx("div",{className:"fixed inset-0 pointer-events-none bg-[radial-gradient(circle_at_top,_rgba(123,92,255,0.35),_transparent_55%),radial-gradient(circle_at_bottom,_rgba(0,0,0,0.9),_transparent_55%)]"}),(0,s.jsxs)("div",{className:"relative min-h-screen flex flex-col",children:[s.jsx("header",{className:"border-b border-borderSubtle/60 bg-black/40 backdrop-blur-xl",children:(0,s.jsxs)("div",{className:"mx-auto flex max-w-5xl items-center justify-between px-6 py-4",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-xl font-semibold tracking-[0.25em] uppercase",children:"\xd8RYK"}),s.jsx("span",{className:"text-sm text-zinc-400",children:"Books"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-xs text-zinc-400",children:[s.jsx("span",{children:"Acesso vital\xedcio"}),s.jsx("span",{className:"h-4 w-px bg-zinc-700"}),s.jsx("span",{children:"R$7"})]})]})}),s.jsx("main",{className:"flex-1",children:e.children})]})]})})}},748:(e,r,t)=>{"use strict";t.d(r,{JJ:()=>i,Lg:()=>n,i_:()=>d});var s=t(1615),o=t(344),a=t(7857);function n(){return(0,o.createRouteHandlerClient)({cookies:s.cookies})}function i(){return(0,o.createServerComponentClient)({cookies:s.cookies})}function d(){let e=process.env.NEXT_PUBLIC_SUPABASE_URL,r=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e||!r)throw Error("SUPABASE_SERVICE_ROLE_KEY ou URL n\xe3o configurados.");return(0,a.eI)(e,r,{auth:{autoRefreshToken:!1,persistSession:!1}})}},5023:()=>{}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,998,471,783],()=>t(6952));module.exports=s})();