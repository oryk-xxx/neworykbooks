(()=>{var e={};e.id=956,e.ids=[956],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4603:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(6904),s(7206),s(5607),s(5866),s(2029);var t=s(3191),n=s(8716),a=s(7922),o=s.n(a),i=s(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let d=["",{children:["(protected)",{children:["reader",{children:["books",{children:["[bookId]",{children:["page",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6904)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\books\\[bookId]\\page\\[slug]\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7206)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\books\\[bookId]\\page\\layout.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5607)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\books\\[bookId]\\page\\[slug]\\page.tsx"],u="/(protected)/reader/books/[bookId]/page/[slug]/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(protected)/reader/books/[bookId]/page/[slug]/page",pathname:"/reader/books/[bookId]/page/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9852:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5203:()=>{},3602:(e,r,s)=>{Promise.resolve().then(s.bind(s,2902))},5303:()=>{},2902:(e,r,s)=>{"use strict";s.d(r,{AntiLeakGuard:()=>n});var t=s(326);function n({watermark:e}){return t.jsx("div",{className:"no-select",children:t.jsx("div",{className:"blurred-watermark",children:e})})}s(7577)},6904:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(9510),n=s(8585),a=s(5388),o=s(748);let i=(0,s(8570).createProxy)(String.raw`C:\Users\kirit\Documents\GitHub\neworykbooks\src\components\AntiLeakGuard.tsx#AntiLeakGuard`);async function l(e){let r=(0,o.JJ)(),{data:{session:s}}=await r.auth.getSession();if(!s)return null;let{data:l}=await r.from("pages").select("id, book_id, slug, order_index, content, estimated_read_time_minutes").eq("book_id",e.params.bookId).eq("slug",e.params.slug).maybeSingle();l||(0,n.notFound)();let{data:c}=await r.from("progress").select("*").eq("user_id",s.user.id).eq("page_id",l.id).maybeSingle(),u=c?.unlocked===!0||1===l.order_index,p=l.content,m=`${s.user.id.slice(0,8)} \xb7 ${new Date().toISOString().slice(0,19)} \xb7 \xd8RYK`;return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx(i,{watermark:m}),t.jsx(a.H,{blocks:p.blocks,watermark:""}),t.jsx(d,{bookId:String(l.book_id),pageId:String(l.id),nextSlug:"",unlocked:u})]})}function d(e){let r=!e.unlocked;return(0,t.jsxs)("form",{action:"/api/progress/submit",method:"post",className:"space-y-3",children:[t.jsx("input",{type:"hidden",name:"book_id",value:e.bookId}),t.jsx("input",{type:"hidden",name:"page_id",value:e.pageId}),(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs text-zinc-300",children:"Resumo da p\xe1gina"}),t.jsx("textarea",{name:"summary",required:!0,minLength:80,className:"min-h-[120px] w-full rounded-lg border border-borderSubtle/80 bg-black/60 p-3 text-sm",placeholder:"Escreva seu entendimento com suas palavras..."})]}),t.jsx("button",{type:"submit",className:"inline-flex items-center rounded-full bg-accent px-4 py-2 text-xs font-medium text-black",children:"Enviar resumo"}),r?t.jsx("p",{className:"text-xs text-zinc-400",children:"Voc\xea precisa desbloquear esta p\xe1gina para enviar o resumo."}):null]})}},7206:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n});var t=s(9510);function n(e){return t.jsx("div",{className:"space-y-4",children:e.children})}},5607:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n});var t=s(9510);function n(e){return t.jsx("div",{className:"mx-auto flex min-h-[calc(100vh-4rem)] max-w-5xl flex-col px-4 py-6 md:px-6",children:e.children})}},2029:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a,metadata:()=>n});var t=s(9510);s(5023);let n={title:"\xd8RYK Books",description:"Plataforma premium de leitura com foco em escrita refinada"};function a(e){return t.jsx("html",{lang:"pt-BR",className:"dark",children:(0,t.jsxs)("body",{className:"min-h-screen bg-background text-foreground",children:[t.jsx("div",{className:"fixed inset-0 pointer-events-none bg-[radial-gradient(circle_at_top,_rgba(123,92,255,0.35),_transparent_55%),radial-gradient(circle_at_bottom,_rgba(0,0,0,0.9),_transparent_55%)]"}),(0,t.jsxs)("div",{className:"relative min-h-screen flex flex-col",children:[t.jsx("header",{className:"border-b border-borderSubtle/60 bg-black/40 backdrop-blur-xl",children:(0,t.jsxs)("div",{className:"mx-auto flex max-w-5xl items-center justify-between px-6 py-4",children:[(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[t.jsx("span",{className:"text-xl font-semibold tracking-[0.25em] uppercase",children:"\xd8RYK"}),t.jsx("span",{className:"text-sm text-zinc-400",children:"Books"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-zinc-400",children:[t.jsx("span",{children:"Acesso vital\xedcio"}),t.jsx("span",{className:"h-4 w-px bg-zinc-700"}),t.jsx("span",{children:"R$7"})]})]})}),t.jsx("main",{className:"flex-1",children:e.children})]})]})})}},748:(e,r,s)=>{"use strict";s.d(r,{JJ:()=>i,Lg:()=>o,i_:()=>l});var t=s(1615),n=s(344),a=s(7857);function o(){return(0,n.createRouteHandlerClient)({cookies:t.cookies})}function i(){return(0,n.createServerComponentClient)({cookies:t.cookies})}function l(){let e=process.env.NEXT_PUBLIC_SUPABASE_URL,r=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e||!r)throw Error("SUPABASE_SERVICE_ROLE_KEY ou URL n\xe3o configurados.");return(0,a.eI)(e,r,{auth:{autoRefreshToken:!1,persistSession:!1}})}},5023:()=>{}};var r=require("../../../../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[276,998,471,322],()=>s(4603));module.exports=t})();