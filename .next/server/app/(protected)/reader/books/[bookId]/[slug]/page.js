(()=>{var e={};e.id=39,e.ids=[39],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9987:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o}),r(6447),r(5607),r(5866),r(4392);var a=r(3191),s=r(8716),n=r(7922),i=r.n(n),l=r(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["(protected)",{children:["reader",{children:["books",{children:["[bookId]",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6447)),"/home/oryk/Documentos/GitHub/neworykbooks/src/app/(protected)/reader/books/[bookId]/[slug]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5607)),"/home/oryk/Documentos/GitHub/neworykbooks/src/app/(protected)/reader/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,4392)),"/home/oryk/Documentos/GitHub/neworykbooks/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/oryk/Documentos/GitHub/neworykbooks/src/app/(protected)/reader/books/[bookId]/[slug]/page.tsx"],x="/(protected)/reader/books/[bookId]/[slug]/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(protected)/reader/books/[bookId]/[slug]/page",pathname:"/reader/books/[bookId]/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2334:(e,t,r)=>{Promise.resolve().then(r.bind(r,2902))},5303:()=>{},2902:(e,t,r)=>{"use strict";r.d(t,{AntiLeakGuard:()=>s});var a=r(326);function s({watermark:e}){return a.jsx("div",{className:"no-select",children:a.jsx("div",{className:"blurred-watermark",children:e})})}r(7577)},6447:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(9510);r(1159);var s=r(8585);function n({blocks:e,watermark:t}){return(0,a.jsxs)("div",{className:"relative space-y-6 text-sm leading-relaxed",children:[t?a.jsx("div",{className:"blurred-watermark select-none",children:t}):null,a.jsx("article",{className:"relative space-y-4 no-select",children:e.map(e=>{switch(e.type){case"heading":{let t=["h1","h2","h3"][e.data.level-1],r=1===e.data.level?"text-2xl":2===e.data.level?"text-xl":"text-lg";return a.jsx(t,{className:`${r} font-semibold`,children:e.data.text},e.id)}case"paragraph":return a.jsx("p",{className:"text-zinc-200",children:e.data.text},e.id);case"image":return(0,a.jsxs)("figure",{className:"space-y-2 rounded-xl border border-borderSubtle/80 bg-black/40 p-3",children:[a.jsx("img",{src:e.data.url,alt:e.data.caption||"",className:"max-h-72 w-full rounded-lg object-cover",draggable:!1}),e.data.caption?a.jsx("figcaption",{className:"text-xs text-zinc-400",children:e.data.caption}):null]},e.id);case"link":return a.jsx("a",{href:e.data.href,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-full border border-accent/40 bg-accentMuted/60 px-3 py-1 text-xs text-accent hover:bg-accent/10",children:a.jsx("span",{children:e.data.label})},e.id);case"quote":return(0,a.jsxs)("blockquote",{className:"border-l-2 border-accent/70 bg-zinc-900/60 p-3 text-sm text-zinc-200",children:[(0,a.jsxs)("p",{className:"italic",children:["“",e.data.text,"”"]}),e.data.attribution?(0,a.jsxs)("footer",{className:"mt-2 text-xs text-zinc-400",children:["— ",e.data.attribution]}):null]},e.id);case"divider":return a.jsx("hr",{className:"border-t border-dashed border-borderSubtle/70"},e.id);case"list":return"bullet"===e.data.style?a.jsx("ul",{className:"list-disc space-y-1 pl-5 text-zinc-200",children:e.data.items.map((e,t)=>a.jsx("li",{children:e},t))},e.id):a.jsx("ol",{className:"list-decimal space-y-1 pl-5 text-zinc-200",children:e.data.items.map((e,t)=>a.jsx("li",{children:e},t))},e.id);case"callout":{let t="alert"===e.data.tone?"border-red-500/60 bg-red-950/40 text-red-50":"tip"===e.data.tone?"border-emerald-500/60 bg-emerald-950/40 text-emerald-50":"border-sky-500/60 bg-sky-950/40 text-sky-50",r="alert"===e.data.tone?"Alerta":"tip"===e.data.tone?"Dica":"Info";return(0,a.jsxs)("div",{className:`rounded-xl border px-4 py-3 text-xs ${t}`,children:[a.jsx("p",{className:"mb-1 text-[10px] font-semibold uppercase tracking-wide",children:r}),a.jsx("p",{children:e.data.text})]},e.id)}case"embed":return(0,a.jsxs)("div",{className:"rounded-xl border border-borderSubtle/80 bg-black/40 p-3 text-xs text-zinc-200",children:[a.jsx("p",{className:"mb-1 text-[10px] uppercase tracking-wide text-zinc-500",children:"Embed"}),a.jsx("a",{href:e.data.url,target:"_blank",rel:"noreferrer",className:"break-all text-accent underline-offset-2 hover:underline",children:e.data.title||e.data.url})]},e.id);case"wrong_right":return a.jsx(i,{block:e},e.id);default:return null}})})]})}function i({block:e}){return(0,a.jsxs)("section",{className:"space-y-3 rounded-2xl border border-borderSubtle/80 bg-zinc-950/70 p-4",children:[(0,a.jsxs)("div",{className:"flex items-baseline justify-between gap-2",children:[a.jsx("p",{className:"text-[11px] uppercase tracking-[0.2em] text-zinc-500",children:"Bloco especial \xb7 Errado → Certo"}),e.data.title?a.jsx("p",{className:"text-xs text-zinc-400",children:e.data.title}):null]}),a.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:e.data.pairs.map((e,t)=>(0,a.jsxs)("div",{className:"space-y-2 rounded-xl border border-borderSubtle/80 bg-black/40 p-3",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-red-900/60 bg-red-950/40 p-3 text-xs",children:[a.jsx("p",{className:"mb-1 text-[10px] font-semibold uppercase tracking-wide text-red-400",children:"Errado"}),a.jsx("p",{className:"text-zinc-100",children:e.wrong})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-emerald-900/60 bg-emerald-950/40 p-3 text-xs",children:[a.jsx("p",{className:"mb-1 text-[10px] font-semibold uppercase tracking-wide text-emerald-400",children:"Certo"}),a.jsx("p",{className:"text-zinc-100",children:e.right})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-1 text-[10px] text-zinc-400",children:[(0,a.jsxs)("span",{children:["Categoria: ",e.category]}),(0,a.jsxs)("span",{children:["N\xedvel: ",e.level]})]}),e.explanation?a.jsx("p",{className:"text-[11px] text-zinc-400",children:e.explanation}):null]},t))})]})}var l=r(748);let d=(0,r(8570).createProxy)(String.raw`/home/oryk/Documentos/GitHub/neworykbooks/src/components/AntiLeakGuard.tsx#AntiLeakGuard`);async function o(e){let t=(0,l.j)(),{data:{user:r}}=await t.auth.getUser();if(!r)return null;let{data:i}=await t.from("pages").select("id, book_id, slug, order_index, content, estimated_read_time_minutes").eq("book_id",e.params.bookId).eq("slug",e.params.slug).maybeSingle();i||(0,s.notFound)();let{data:o}=await t.from("progress").select("*").eq("user_id",r.id).eq("page_id",i.id).maybeSingle(),x=o?.unlocked===!0||1===i.order_index,p=i.content,m=`${r.id.slice(0,8)} \xb7 ${new Date().toISOString().slice(0,19)} \xb7 \xd8RYK`;return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-20",children:[a.jsx(d,{watermark:m}),(0,a.jsxs)("article",{className:"prose prose-invert prose-oryk max-w-none",children:[(0,a.jsxs)("header",{className:"mb-16 border-b border-white/[0.06] pb-12",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsxs)("span",{className:"font-mono text-[9px] uppercase tracking-[0.4em] text-primary",children:["Sector.",String(i.order_index).padStart(2,"0")]}),a.jsx("span",{className:"h-px w-12 bg-white/[0.06]"}),(0,a.jsxs)("span",{className:"font-mono text-[9px] uppercase tracking-oryk text-text-meta opacity-50",children:[i.estimated_read_time_minutes||5," PROCESS_TIME.MIN"]})]}),a.jsx("h1",{className:"text-header text-white tracking-tight leading-tight",children:i.slug.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})]}),a.jsx("div",{className:"font-mono text-base text-text-secondary leading-relaxed uppercase opacity-80 selection:bg-primary/20",children:a.jsx(n,{blocks:p.blocks,watermark:""})})]}),a.jsx("div",{className:"pt-16 border-t border-white/[0.05]",children:a.jsx(c,{bookId:String(i.book_id),pageId:String(i.id),nextSlug:"",unlocked:x})})]})}function c(e){let t=!e.unlocked;return(0,a.jsxs)("div",{className:"oryk-surface p-12 space-y-10 relative overflow-hidden bg-primary/2",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-header-sm text-white",children:"Sync.Knowledge_Core"}),(0,a.jsxs)("p",{className:"font-mono text-[10px] text-text-secondary tracking-oryk leading-relaxed uppercase opacity-60",children:["Terminal requires conceptual synthesis for sector progression. ",a.jsx("br",{}),"System requirement: Minimum 80 units of synthesis."]})]}),(0,a.jsxs)("form",{action:"/api/progress/submit",method:"post",className:"space-y-8",children:[a.jsx("input",{type:"hidden",name:"book_id",value:e.bookId}),a.jsx("input",{type:"hidden",name:"page_id",value:e.pageId}),(0,a.jsxs)("div",{className:"relative group",children:[a.jsx("textarea",{name:"summary",required:!0,disabled:t,minLength:80,className:"oryk-input min-h-[200px] py-6 text-sm leading-relaxed resize-none transition-all duration-300 focus:ring-1 focus:ring-primary/20",placeholder:"[ INPUT SYNTHESIS DATA HERE ]"}),a.jsx("div",{className:"absolute bottom-4 right-4 font-mono text-[9px] uppercase tracking-oryk text-text-meta pointer-events-none group-focus-within:text-primary transition-colors opacity-40",children:"SYNT_MODE_ACTIVE // UPLINK_STANDBY"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-8 pt-4",children:[a.jsx("button",{type:"submit",disabled:t,className:`oryk-button-accent py-4 px-12 text-[10px] w-full sm:w-auto ${t?"opacity-20 cursor-not-allowed grayscale":""}`,children:"VALIDATE COGNITION →"}),t&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-white/20 animate-pulse"}),a.jsx("p",{className:"text-[9px] text-text-meta uppercase tracking-oryk opacity-50",children:"Access pending protocol completion. Sector lock active."})]})]})]})]})}},5607:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(9510);function s(e){return a.jsx("div",{className:"mx-auto flex min-h-[calc(100vh-5rem)] max-w-5xl flex-col px-6 py-12 md:py-16",children:a.jsx("div",{className:"flex-1 w-full animate-in fade-in slide-in-from-bottom-2 duration-700",children:e.children})})}r(1159)}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,786,702,640,362],()=>r(9987));module.exports=a})();