(()=>{var e={};e.id=583,e.ids=[583],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},9139:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),r(5281),r(5607),r(5866),r(2029);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(protected)",{children:["reader",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5281)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5607)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\(protected)\\reader\\page.tsx"],m="/(protected)/reader/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(protected)/reader/page",pathname:"/reader",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9852:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},6397:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9404,23))},5203:()=>{},5303:()=>{},5607:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(9510);function a(e){return s.jsx("div",{className:"mx-auto flex min-h-[calc(100vh-4rem)] max-w-5xl flex-col px-4 py-6 md:px-6",children:e.children})}},5281:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(9510),a=r(7371),n=r(748);async function i(){let e=(0,n.JJ)(),{data:{session:t}}=await e.auth.getSession();if(!t)return null;let{data:r}=await e.from("entitlements").select("*").eq("user_id",t.user.id).maybeSingle(),i=r?.active===!0,{data:o}=i?await e.from("books").select("id, title, cover_url, summary, tags, average_rating, status").order("created_at",{ascending:!0}):{data:[]};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"Sua biblioteca \xd8RYK"}),s.jsx("p",{className:"text-xs text-zinc-400",children:"Leitura guiada, ritmo pr\xf3prio, nenhuma distra\xe7\xe3o."})]}),i?null:(0,s.jsxs)("div",{className:"rounded-2xl border border-accent/40 bg-accentMuted/40 p-4 text-sm text-zinc-100",children:[s.jsx("p",{className:"mb-2 font-medium",children:"Acesso bloqueado \xb7 \xe9 necess\xe1rio completar o pagamento \xfanico de R$7."}),s.jsx("p",{className:"mb-3 text-xs text-zinc-200",children:"O acesso \xe9 vital\xedcio. Assim que o pagamento PIX for aprovado, sua biblioteca ser\xe1 liberada automaticamente."}),s.jsx(a.default,{href:"/checkout",className:"inline-flex items-center rounded-full bg-accent px-4 py-2 text-xs font-medium text-black",children:"Ir para o pagamento PIX"})]}),i?(0,s.jsxs)("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-sm font-medium text-zinc-200",children:"Livros dispon\xedveis"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[o?.map(e=>s.jsx(a.default,{href:`/reader/books/${e.id}`,className:"group flex flex-col overflow-hidden rounded-2xl border border-borderSubtle/80 bg-black/60 transition hover:border-accent/60",children:s.jsxs("div",{className:"flex-1 space-y-3 p-4",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-zinc-500",children:"Livro"}),s.jsx("p",{className:"text-sm font-medium text-zinc-100 group-hover:text-accent",children:e.title}),e.summary?s.jsx("p",{className:"text-xs text-zinc-400 line-clamp-3",children:e.summary}):null,s.jsx("div",{className:"flex flex-wrap gap-2 text-[10px] text-zinc-400",children:e.tags?.map(e=>s.jsx("span",{className:"rounded-full bg-accentMuted/60 px-2 py-0.5",children:e},e))})]})},e.id)),o&&0===o.length?s.jsx("p",{className:"text-xs text-zinc-500",children:"Nenhum livro publicado ainda. O admin deve criar livros pelo painel."}):null]})]}):null]})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a});var s=r(9510);r(5023);let a={title:"\xd8RYK Books",description:"Plataforma premium de leitura com foco em escrita refinada"};function n(e){return s.jsx("html",{lang:"pt-BR",className:"dark",children:(0,s.jsxs)("body",{className:"min-h-screen bg-background text-foreground",children:[s.jsx("div",{className:"fixed inset-0 pointer-events-none bg-[radial-gradient(circle_at_top,_rgba(123,92,255,0.35),_transparent_55%),radial-gradient(circle_at_bottom,_rgba(0,0,0,0.9),_transparent_55%)]"}),(0,s.jsxs)("div",{className:"relative min-h-screen flex flex-col",children:[s.jsx("header",{className:"border-b border-borderSubtle/60 bg-black/40 backdrop-blur-xl",children:(0,s.jsxs)("div",{className:"mx-auto flex max-w-5xl items-center justify-between px-6 py-4",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-xl font-semibold tracking-[0.25em] uppercase",children:"\xd8RYK"}),s.jsx("span",{className:"text-sm text-zinc-400",children:"Books"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-xs text-zinc-400",children:[s.jsx("span",{children:"Acesso vital\xedcio"}),s.jsx("span",{className:"h-4 w-px bg-zinc-700"}),s.jsx("span",{children:"R$7"})]})]})}),s.jsx("main",{className:"flex-1",children:e.children})]})]})})}},748:(e,t,r)=>{"use strict";r.d(t,{JJ:()=>o,Lg:()=>i,i_:()=>l});var s=r(1615),a=r(344),n=r(7857);function i(){return(0,a.createRouteHandlerClient)({cookies:s.cookies})}function o(){return(0,a.createServerComponentClient)({cookies:s.cookies})}function l(){let e=process.env.NEXT_PUBLIC_SUPABASE_URL,t=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e||!t)throw Error("SUPABASE_SERVICE_ROLE_KEY ou URL n\xe3o configurados.");return(0,n.eI)(e,t,{auth:{autoRefreshToken:!1,persistSession:!1}})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,998,471,783],()=>r(9139));module.exports=s})();