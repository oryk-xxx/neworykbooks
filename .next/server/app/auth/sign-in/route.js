"use strict";(()=>{var e={};e.id=80,e.ids=[80],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},1899:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>R,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>m});var n={};r.r(n),r.d(n,{POST:()=>l});var i=r(9303),s=r(8716),o=r(670),a=r(7070),u=r(1067),c=r(748);let p=u.Ry({email:u.Z_().email()});async function l(e){let t=String((await e.formData()).get("email")||"");if(!p.safeParse({email:t}).success)return a.NextResponse.redirect(new URL("/login?error=invalid_email",e.url));let r=(0,c.Lg)();return await r.auth.signInWithOtp({email:t,options:{emailRedirectTo:`${process.env.NEXT_PUBLIC_SITE_URL}/auth/callback`}}),a.NextResponse.redirect(new URL("/login?status=magic_link_sent",e.url))}let d=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/auth/sign-in/route",pathname:"/auth/sign-in",filename:"route",bundlePath:"app/auth/sign-in/route"},resolvedPagePath:"C:\\Users\\kirit\\Documents\\GitHub\\neworykbooks\\src\\app\\auth\\sign-in\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:x}=d,h="/auth/sign-in/route";function R(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:m})}},748:(e,t,r)=>{r.d(t,{JJ:()=>a,Lg:()=>o,i_:()=>u});var n=r(1615),i=r(344),s=r(7857);function o(){return(0,i.createRouteHandlerClient)({cookies:n.cookies})}function a(){return(0,i.createServerComponentClient)({cookies:n.cookies})}function u(){let e=process.env.NEXT_PUBLIC_SUPABASE_URL,t=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e||!t)throw Error("SUPABASE_SERVICE_ROLE_KEY ou URL n\xe3o configurados.");return(0,s.eI)(e,t,{auth:{autoRefreshToken:!1,persistSession:!1}})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[276,998,972,67],()=>r(1899));module.exports=n})();