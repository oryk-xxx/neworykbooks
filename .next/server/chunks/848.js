exports.id=848,exports.ids=[848],exports.modules={9487:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,9404,23)),Promise.resolve().then(t.bind(t,1332))},7773:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,9404,23))},1332:(e,a,t)=>{"use strict";t.d(a,{PageEditorForm:()=>h});var r=t(326),l=t(7577),s=t(4806),d=t(7197),i=t(2616),n=t(7463);function o({initialValue:e,onChange:a}){let[t,i]=(0,l.useState)(()=>e?.blocks&&e.blocks.length>0?e.blocks:[{id:(0,n.Z)(),type:"heading",data:{level:1,text:"T\xedtulo da p\xe1gina"}},{id:(0,n.Z)(),type:"paragraph",data:{text:"Comece a estruturar o conte\xfado desta p\xe1gina em blocos claros e objetivos."}}]);function o(e){i(e),a?.({blocks:e})}function x(e){let a={id:(0,n.Z)(),type:e};switch(e){case"heading":a.data={level:2,text:"Novo t\xedtulo"};break;case"paragraph":a.data={text:"Novo par\xe1grafo."};break;case"image":a.data={url:"",caption:""};break;case"link":a.data={label:"Abrir recurso",href:"https://"};break;case"quote":a.data={text:"Uma frase que merece ser isolada.",attribution:""};break;case"divider":a.data={};break;case"list":a.data={style:"bullet",items:["Primeiro ponto"]};break;case"callout":a.data={tone:"tip",text:"Uma observa\xe7\xe3o importante para esta parte."};break;case"embed":a.data={url:"https://",title:""};break;case"wrong_right":a.data={title:"Exemplos de comunica\xe7\xe3o",pairs:[{wrong:"mb, faz isso a\xed",right:"Meu bem, consegue me ajudar com isso?",category:"postura",level:"iniciante",explanation:"A forma certa traz contexto, respeito e clareza, sem perder proximidade."}]}}o([...t,a])}function p(e,a,r){o(t.map(t=>t.id===e?{...t,...r?{type:r}:null,data:{...t.data,...a}}:t))}function b(e){o(t.filter(a=>a.id!==e))}return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs",children:[r.jsx(u,{label:"T\xedtulo",onClick:()=>x("heading")}),r.jsx(u,{label:"Par\xe1grafo",onClick:()=>x("paragraph")}),r.jsx(u,{label:"Imagem",onClick:()=>x("image")}),r.jsx(u,{label:"Link / CTA",onClick:()=>x("link")}),r.jsx(u,{label:"Cita\xe7\xe3o",onClick:()=>x("quote")}),r.jsx(u,{label:"Divisor",onClick:()=>x("divider")}),r.jsx(u,{label:"Lista",onClick:()=>x("list")}),r.jsx(u,{label:"Callout",onClick:()=>x("callout")}),r.jsx(u,{label:"Embed",onClick:()=>x("embed")}),r.jsx(u,{label:"Errado → Certo",onClick:()=>x("wrong_right"),accent:!0})]}),r.jsx(s.LB,{collisionDetection:s.pE,onDragEnd:function(e){let{active:a,over:r}=e;if(!r||a.id===r.id)return;let l=t.findIndex(e=>e.id===a.id),s=t.findIndex(e=>e.id===r.id);-1!==l&&-1!==s&&o((0,d.Rp)(t,l,s))},children:r.jsx(d.Fo,{items:t.map(e=>e.id),strategy:d.qw,children:r.jsx("div",{className:"space-y-3",children:t.map(e=>r.jsx(c,{block:e,onChange:p,onRemove:b},e.id))})})}),r.jsx("pre",{className:"mt-4 max-h-64 overflow-auto rounded-xl bg-black/60 p-3 text-[10px] text-zinc-400",children:JSON.stringify({blocks:t},null,2)})]})}function c({block:e,onChange:a,onRemove:t}){let{attributes:l,listeners:s,setNodeRef:n,transform:o,transition:c}=(0,d.nB)({id:e.id}),p={transform:i.ux.Transform.toString(o),transition:c};return(0,r.jsxs)("div",{ref:n,style:p,className:"group flex gap-3 rounded-xl border border-borderSubtle/80 bg-black/40 p-3",children:[r.jsx("button",{type:"button",className:"mt-3 h-5 w-5 shrink-0 cursor-grab rounded-full border border-borderSubtle/70 text-[10px] text-zinc-500 opacity-70 group-hover:opacity-100",...l,...s,children:"::"}),r.jsx("div",{className:"flex-1 space-y-2",children:r.jsx(x,{block:e,onChange:a})}),r.jsx("button",{type:"button",onClick:()=>t(e.id),className:"h-6 w-6 self-start rounded-full border border-red-900/60 text-[10px] text-red-300 opacity-0 transition group-hover:opacity-100",children:"\xd7"})]})}function x({block:e,onChange:a}){return"heading"===e.type?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("select",{className:"h-8 rounded border border-borderSubtle/70 bg-black/60 px-2 text-xs",value:e.data.level,onChange:t=>a(e.id,{level:Number(t.target.value)}),children:[r.jsx("option",{value:1,children:"H1"}),r.jsx("option",{value:2,children:"H2"}),r.jsx("option",{value:3,children:"H3"})]}),r.jsx("input",{className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1 text-sm",value:e.data.text,onChange:t=>a(e.id,{text:t.target.value})})]}):"paragraph"===e.type?r.jsx("textarea",{className:"min-h-[80px] w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1 text-sm",value:e.data.text,onChange:t=>a(e.id,{text:t.target.value})}):"image"===e.type?(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[r.jsx("input",{placeholder:"URL da imagem",className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.data.url,onChange:t=>a(e.id,{url:t.target.value})}),r.jsx("input",{placeholder:"Legenda (opcional)",className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.data.caption||"",onChange:t=>a(e.id,{caption:t.target.value})})]}):"link"===e.type?(0,r.jsxs)("div",{className:"grid grid-cols-[2fr_3fr] gap-2 text-xs",children:[r.jsx("input",{placeholder:"Texto do CTA",className:"rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.data.label,onChange:t=>a(e.id,{label:t.target.value})}),r.jsx("input",{placeholder:"URL",className:"rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.data.href,onChange:t=>a(e.id,{href:t.target.value})})]}):"quote"===e.type?(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[r.jsx("textarea",{placeholder:"Texto da cita\xe7\xe3o",className:"min-h-[80px] w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.data.text,onChange:t=>a(e.id,{text:t.target.value})}),r.jsx("input",{placeholder:"Autor (opcional)",className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.data.attribution||"",onChange:t=>a(e.id,{attribution:t.target.value})})]}):"divider"===e.type?r.jsx("div",{className:"py-2 text-[10px] uppercase tracking-[0.2em] text-zinc-500",children:"Divisor"}):"list"===e.type?(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsxs)("select",{className:"h-8 rounded border border-borderSubtle/70 bg-black/60 px-2",value:e.data.style,onChange:t=>a(e.id,{style:t.target.value}),children:[r.jsx("option",{value:"bullet",children:"Lista com bullets"}),r.jsx("option",{value:"numbered",children:"Lista numerada"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[e.data.items.map((t,l)=>r.jsx("input",{className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:t,onChange:t=>{let r=[...e.data.items];r[l]=t.target.value,a(e.id,{items:r})}},l)),r.jsx("button",{type:"button",className:"text-[11px] text-accent",onClick:()=>a(e.id,{items:[...e.data.items,"Novo item"]}),children:"+ Adicionar item"})]})]}):"callout"===e.type?(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsxs)("select",{className:"h-8 rounded border border-borderSubtle/70 bg-black/60 px-2",value:e.data.tone,onChange:t=>a(e.id,{tone:t.target.value}),children:[r.jsx("option",{value:"tip",children:"Dica"}),r.jsx("option",{value:"info",children:"Info"}),r.jsx("option",{value:"alert",children:"Alerta"})]}),r.jsx("textarea",{className:"min-h-[60px] w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.data.text,onChange:t=>a(e.id,{text:t.target.value})})]}):"embed"===e.type?(0,r.jsxs)("div",{className:"grid grid-cols-[2fr_3fr] gap-2 text-xs",children:[r.jsx("input",{placeholder:"T\xedtulo (opcional)",className:"rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.data.title||"",onChange:t=>a(e.id,{title:t.target.value})}),r.jsx("input",{placeholder:"URL do embed",className:"rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.data.url,onChange:t=>a(e.id,{url:t.target.value})})]}):"wrong_right"===e.type?r.jsx(p,{block:e,onChange:t=>a(e.id,t)}):null}function p({block:e,onChange:a}){return(0,r.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-zinc-500",children:"Bloco especial \xb7 Errado → Certo"}),r.jsx("input",{placeholder:"T\xedtulo do bloco (opcional)",className:"mt-1 w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:e.data.title||"",onChange:e=>a({title:e.target.value})})]}),r.jsx("button",{type:"button",className:"rounded-full border border-accent/60 px-3 py-1 text-[11px] text-accent",onClick:()=>a({pairs:[...e.data.pairs,{wrong:"",right:"",category:"gramatica",level:"iniciante",explanation:""}]}),children:"+ Par"})]}),r.jsx("div",{className:"space-y-3",children:e.data.pairs.map((t,l)=>(0,r.jsxs)("div",{className:"space-y-2 rounded-xl border border-borderSubtle/80 bg-zinc-950/60 p-3",children:[(0,r.jsxs)("div",{className:"grid gap-2 md:grid-cols-2",children:[r.jsx("textarea",{placeholder:"Texto errado",className:"min-h-[60px] w-full rounded border border-red-900/60 bg-red-950/40 px-2 py-1 text-xs",value:t.wrong,onChange:r=>{let s=[...e.data.pairs];s[l]={...t,wrong:r.target.value},a({pairs:s})}}),r.jsx("textarea",{placeholder:"Texto certo",className:"min-h-[60px] w-full rounded border border-emerald-900/60 bg-emerald-950/40 px-2 py-1 text-xs",value:t.right,onChange:r=>{let s=[...e.data.pairs];s[l]={...t,right:r.target.value},a({pairs:s})}})]}),(0,r.jsxs)("div",{className:"grid gap-2 md:grid-cols-[2fr_2fr_3fr]",children:[(0,r.jsxs)("select",{className:"h-8 rounded border border-borderSubtle/70 bg-black/60 px-2",value:t.category,onChange:r=>{let s=[...e.data.pairs];s[l]={...t,category:r.target.value},a({pairs:s})},children:[r.jsx("option",{value:"gramatica",children:"Gram\xe1tica"}),r.jsx("option",{value:"postura",children:"Postura"}),r.jsx("option",{value:"mensagem",children:"Mensagem"}),r.jsx("option",{value:"atitude",children:"Atitude"})]}),(0,r.jsxs)("select",{className:"h-8 rounded border border-borderSubtle/70 bg-black/60 px-2",value:t.level,onChange:r=>{let s=[...e.data.pairs];s[l]={...t,level:r.target.value},a({pairs:s})},children:[r.jsx("option",{value:"iniciante",children:"Iniciante"}),r.jsx("option",{value:"intermediario",children:"Intermedi\xe1rio"}),r.jsx("option",{value:"avancado",children:"Avan\xe7ado"})]}),r.jsx("input",{placeholder:"Explica\xe7\xe3o (opcional)",className:"w-full rounded border border-borderSubtle/70 bg-black/60 px-2 py-1",value:t.explanation||"",onChange:r=>{let s=[...e.data.pairs];s[l]={...t,explanation:r.target.value},a({pairs:s})}})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",className:"text-[11px] text-red-400",onClick:()=>{a({pairs:e.data.pairs.filter((e,a)=>a!==l)})},children:"Remover par"})})]},l))})]})}function u(e){return r.jsx("button",{type:"button",onClick:e.onClick,className:`rounded-full border px-3 py-1 ${e.accent?"border-accent/80 bg-accent/10 text-[11px] text-accent":"border-borderSubtle/70 bg-black/40 text-[11px] text-zinc-200"}`,children:e.label})}function b({blocks:e,watermark:a}){return(0,r.jsxs)("div",{className:"relative space-y-6 text-sm leading-relaxed",children:[a?r.jsx("div",{className:"blurred-watermark select-none",children:a}):null,r.jsx("article",{className:"relative space-y-4 no-select",children:e.map(e=>{switch(e.type){case"heading":{let a=["h1","h2","h3"][e.data.level-1],t=1===e.data.level?"text-2xl":2===e.data.level?"text-xl":"text-lg";return r.jsx(a,{className:`${t} font-semibold`,children:e.data.text},e.id)}case"paragraph":return r.jsx("p",{className:"text-zinc-200",children:e.data.text},e.id);case"image":return(0,r.jsxs)("figure",{className:"space-y-2 rounded-xl border border-borderSubtle/80 bg-black/40 p-3",children:[r.jsx("img",{src:e.data.url,alt:e.data.caption||"",className:"max-h-72 w-full rounded-lg object-cover",draggable:!1}),e.data.caption?r.jsx("figcaption",{className:"text-xs text-zinc-400",children:e.data.caption}):null]},e.id);case"link":return r.jsx("a",{href:e.data.href,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-full border border-accent/40 bg-accentMuted/60 px-3 py-1 text-xs text-accent hover:bg-accent/10",children:r.jsx("span",{children:e.data.label})},e.id);case"quote":return(0,r.jsxs)("blockquote",{className:"border-l-2 border-accent/70 bg-zinc-900/60 p-3 text-sm text-zinc-200",children:[(0,r.jsxs)("p",{className:"italic",children:["“",e.data.text,"”"]}),e.data.attribution?(0,r.jsxs)("footer",{className:"mt-2 text-xs text-zinc-400",children:["— ",e.data.attribution]}):null]},e.id);case"divider":return r.jsx("hr",{className:"border-t border-dashed border-borderSubtle/70"},e.id);case"list":return"bullet"===e.data.style?r.jsx("ul",{className:"list-disc space-y-1 pl-5 text-zinc-200",children:e.data.items.map((e,a)=>r.jsx("li",{children:e},a))},e.id):r.jsx("ol",{className:"list-decimal space-y-1 pl-5 text-zinc-200",children:e.data.items.map((e,a)=>r.jsx("li",{children:e},a))},e.id);case"callout":{let a="alert"===e.data.tone?"border-red-500/60 bg-red-950/40 text-red-50":"tip"===e.data.tone?"border-emerald-500/60 bg-emerald-950/40 text-emerald-50":"border-sky-500/60 bg-sky-950/40 text-sky-50",t="alert"===e.data.tone?"Alerta":"tip"===e.data.tone?"Dica":"Info";return(0,r.jsxs)("div",{className:`rounded-xl border px-4 py-3 text-xs ${a}`,children:[r.jsx("p",{className:"mb-1 text-[10px] font-semibold uppercase tracking-wide",children:t}),r.jsx("p",{children:e.data.text})]},e.id)}case"embed":return(0,r.jsxs)("div",{className:"rounded-xl border border-borderSubtle/80 bg-black/40 p-3 text-xs text-zinc-200",children:[r.jsx("p",{className:"mb-1 text-[10px] uppercase tracking-wide text-zinc-500",children:"Embed"}),r.jsx("a",{href:e.data.url,target:"_blank",rel:"noreferrer",className:"break-all text-accent underline-offset-2 hover:underline",children:e.data.title||e.data.url})]},e.id);case"wrong_right":return r.jsx(m,{block:e},e.id);default:return null}})})]})}function m({block:e}){return(0,r.jsxs)("section",{className:"space-y-3 rounded-2xl border border-borderSubtle/80 bg-zinc-950/70 p-4",children:[(0,r.jsxs)("div",{className:"flex items-baseline justify-between gap-2",children:[r.jsx("p",{className:"text-[11px] uppercase tracking-[0.2em] text-zinc-500",children:"Bloco especial \xb7 Errado → Certo"}),e.data.title?r.jsx("p",{className:"text-xs text-zinc-400",children:e.data.title}):null]}),r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:e.data.pairs.map((e,a)=>(0,r.jsxs)("div",{className:"space-y-2 rounded-xl border border-borderSubtle/80 bg-black/40 p-3",children:[(0,r.jsxs)("div",{className:"rounded-lg border border-red-900/60 bg-red-950/40 p-3 text-xs",children:[r.jsx("p",{className:"mb-1 text-[10px] font-semibold uppercase tracking-wide text-red-400",children:"Errado"}),r.jsx("p",{className:"text-zinc-100",children:e.wrong})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-emerald-900/60 bg-emerald-950/40 p-3 text-xs",children:[r.jsx("p",{className:"mb-1 text-[10px] font-semibold uppercase tracking-wide text-emerald-400",children:"Certo"}),r.jsx("p",{className:"text-zinc-100",children:e.right})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-1 text-[10px] text-zinc-400",children:[(0,r.jsxs)("span",{children:["Categoria: ",e.category]}),(0,r.jsxs)("span",{children:["N\xedvel: ",e.level]})]}),e.explanation?r.jsx("p",{className:"text-[11px] text-zinc-400",children:e.explanation}):null]},a))})]})}function h({bookId:e,page:a,action:t}){let[s,d]=(0,l.useState)(a?.content||{blocks:[{id:"initial-heading",type:"heading",data:{level:2,text:"T\xedtulo da p\xe1gina"}},{id:"initial-p",type:"paragraph",data:{text:"Comece a escrever aqui..."}}]});return(0,r.jsxs)("div",{className:"grid gap-12 lg:grid-cols-[1.2fr_1fr]",children:[r.jsx("div",{className:"oryk-surface p-10 space-y-10",children:(0,r.jsxs)("form",{action:t,method:"post",className:"space-y-10",children:[(0,r.jsxs)("div",{className:"grid grid-cols-[2fr_1fr] gap-6",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("label",{className:"font-mono text-[9px] uppercase tracking-oryk-wide text-text-secondary opacity-50 ml-1",children:"TRANSMISSION_SLUG"}),r.jsx("input",{name:"slug",required:!0,placeholder:"entry-protocol-01",className:"oryk-input",defaultValue:a?.slug})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("label",{className:"font-mono text-[9px] uppercase tracking-oryk-wide text-text-secondary opacity-50 ml-1",children:"SEQUENCE_INDEX"}),r.jsx("input",{name:"order_index",type:"number",required:!0,className:"oryk-input",defaultValue:a?.order_index??1})]})]}),r.jsx("input",{type:"hidden",name:"content_json",value:JSON.stringify(s)}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("label",{className:"font-mono text-[9px] uppercase tracking-oryk-wide text-text-secondary opacity-50 ml-1",children:"STRUCTURE_BLOCK_ARRAY"}),r.jsx("div",{className:"border border-white/[0.04] rounded-xl bg-black/40 p-2 shadow-inner",children:r.jsx(o,{initialValue:s,onChange:d})})]}),r.jsx("div",{className:"pt-6",children:r.jsx("button",{type:"submit",className:"oryk-button-accent w-full py-5 text-[11px] uppercase font-bold tracking-oryk-wide",children:a?"UPLINK_SYNCHRONIZATION →":"INIT_NEW_UNIT →"})})]})}),(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between border-b border-white/[0.04] pb-6",children:(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-mono text-[9px] uppercase tracking-oryk-wide text-text-secondary opacity-50",children:"REALTIME_UPLINK_MONITOR"}),r.jsx("p",{className:"text-sm font-light text-white/40 italic",children:"Live decryption preview"})]})}),r.jsx("div",{className:"oryk-surface p-10 min-h-[600px] border-white/[0.04] bg-black/[0.15]",children:r.jsx("div",{className:"prose prose-invert prose-oryk max-w-none",children:r.jsx(b,{blocks:s.blocks})})})]})]})}},3821:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});var r=t(9510);t(1159);var l=t(7371);function s(e){return(0,r.jsxs)("div",{className:"mx-auto max-w-5xl px-6 py-12 md:py-16 space-y-12",children:[(0,r.jsxs)("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 border-b border-white/[0.05] pb-8",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("h1",{className:"text-3xl font-medium tracking-oryk-wide text-white uppercase",children:"Control Panel"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"h-1 w-1 rounded-full bg-accent shadow-[0_0_8px_rgba(43,255,136,0.5)]"}),r.jsx("p",{className:"text-[10px] text-text-secondary uppercase tracking-[0.2em]",children:"Sess\xe3o de Administra\xe7\xe3o \xd8RYK"})]})]}),r.jsx("nav",{className:"flex items-center gap-8",children:[{label:"Obras",href:"/admin/books"},{label:"Audi\xeancia",href:"/admin/users"},{label:"Registros",href:"/admin/logs"}].map(e=>(0,r.jsxs)(l.default,{href:e.href,className:"text-[10px] uppercase tracking-[0.3em] text-text-meta hover:text-accent transition-colors duration-300 relative group",children:[e.label,r.jsx("span",{className:"absolute -bottom-8 left-0 w-full h-px bg-accent scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"})]},e.href))})]}),r.jsx("main",{className:"animate-in fade-in slide-in-from-bottom-4 duration-1000",children:e.children})]})}},8773:(e,a,t)=>{"use strict";t.d(a,{o:()=>r});let r=(0,t(8570).createProxy)(String.raw`/home/oryk/Documentos/GitHub/neworykbooks/src/components/admin/PageEditorForm.tsx#PageEditorForm`)}};